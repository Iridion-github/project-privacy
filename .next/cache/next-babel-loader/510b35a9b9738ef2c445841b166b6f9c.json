{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/home/iridion/Desktop/Repos/Freelancer/project-privacy/pages/archivio.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect, useState } from 'react';\nimport styles from '../styles/Home.module.css';\nimport { useLanguage, useLanguageUpdate } from '../context/siteLanguageContext'; //context\n\nimport { Row, Col, Card, Form, Button, ButtonGroup } from 'react-bootstrap';\nimport { Header } from '../components/layout/Header';\nimport { Navigation } from '../components/layout/Navbar';\nimport { Loading } from '../components/layout/Loading';\nimport { Footer } from '../components/layout/Footer';\nimport { PdfViewer } from '../components/fileViewers/pdf/PdfViewer';\nimport { AdvancedSearch } from '../components/archive/AdvancedSearch';\nimport { CustomAutoSuggest } from '../components/archive/ui/CustomAutoSuggest';\nexport default function archivio(props) {\n  _s();\n\n  var _this = this;\n\n  var siteLanguage = useLanguage(); //context\n\n  var _useState = useState(\"\"),\n      searchInput = _useState[0],\n      setSearchInput = _useState[1];\n\n  var _useState2 = useState(false),\n      isAdvanced = _useState2[0],\n      setIsAdvanced = _useState2[1];\n\n  var _useState3 = useState(false),\n      searched = _useState3[0],\n      setSearched = _useState3[1];\n\n  var _useState4 = useState(false),\n      advancedSearched = _useState4[0],\n      setAdvancedSearched = _useState4[1];\n\n  var _useState5 = useState([]),\n      searchResult = _useState5[0],\n      setSearchResult = _useState5[1];\n\n  var _useState6 = useState(false),\n      loading = _useState6[0],\n      setLoading = _useState6[1];\n\n  var _useState7 = useState(null),\n      showPdfModal = _useState7[0],\n      setShowPdfModal = _useState7[1];\n\n  var _useState8 = useState(\"giurisprudenza\"),\n      shownTab = _useState8[0],\n      setShownTab = _useState8[1];\n\n  var openPdfViewer = function openPdfViewer(path, buffer) {\n    path ? setShowPdfModal(path) : setShowPdfModal(buffer);\n  };\n\n  var closePdfViewer = function closePdfViewer() {\n    setShowPdfModal(null);\n  };\n\n  var handleSetSearchResult = function handleSetSearchResult(searchResBefore) {\n    setSearchResult(searchResBefore);\n  };\n\n  var openAdvancedSearch = function openAdvancedSearch() {\n    setIsAdvanced(true);\n  };\n\n  var closeAdvancedSearch = function closeAdvancedSearch() {\n    setIsAdvanced(false);\n  };\n\n  var handleSetSearched = function handleSetSearched(searchedString, advancedFilters) {\n    if (!advancedFilters) {\n      setSearched(searchedString);\n    } else {\n      setAdvancedSearched(advancedFilters);\n      if (searchedString && searchedString.length > 0) setSearched(searchedString);\n    }\n  };\n\n  var submitSearch = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(input) {\n      var resJson;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              setLoading(true);\n              _context2.next = 4;\n              return fetch(\"http://localhost:3000/api/archive/search?searchterms=\".concat(input), {\n                method: 'GET',\n                headers: {\n                  key: 'Access-Control-Allow-Origin',\n                  value: '*'\n                }\n              }).then(function (response) {\n                return response.json();\n              }).then( /*#__PURE__*/function () {\n                var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(response) {\n                  return _regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          handleSetSearchResult(response.data.filteredDocs);\n                          handleSetSearched(searchInput);\n                          setLoading(false);\n\n                        case 3:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                }));\n\n                return function (_x2) {\n                  return _ref2.apply(this, arguments);\n                };\n              }());\n\n            case 4:\n              resJson = _context2.sent;\n              _context2.next = 10;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log(_context2.t0);\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 7]]);\n    }));\n\n    return function submitSearch(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleSubmit = function handleSubmit(event) {\n    event.preventDefault();\n    var cleanInput = searchInput.replace(/[^\\w\\s]/gi, '');\n    submitSearch(cleanInput);\n  };\n\n  useEffect(function () {//console.log(\"useEffect console.log:\")\n  });\n  return __jsx(\"div\", {\n    className: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }\n  }, __jsx(Header, {\n    title: siteLanguage === \"ita\" ? \"Archivio\" : \"Archive\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }), __jsx(Navigation, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }), loading && __jsx(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 19\n    }\n  }), __jsx(\"main\", {\n    className: styles.main,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }, __jsx(Card, {\n    className: \"p-2 fixed-width-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, __jsx(Card.Img, {\n    variant: \"top\",\n    src: \"archiveImg.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  }), __jsx(ButtonGroup, {\n    className: \"mt-5 mb-3 w-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }, __jsx(Button, {\n    block: true,\n    className: \"mt-0\",\n    variant: shownTab === \"giurisprudenza\" ? \"info\" : \"outline-info\",\n    onClick: function onClick() {\n      return setShownTab(\"giurisprudenza\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, __jsx(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 15\n    }\n  }, \"Giurisprudenza\")), __jsx(Button, {\n    block: true,\n    className: \"mt-0\",\n    variant: shownTab === \"normativa\" ? \"info\" : \"outline-info\",\n    onClick: function onClick() {\n      return setShownTab(\"normativa\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }, __jsx(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 15\n    }\n  }, \"Normativa\")), __jsx(Button, {\n    block: true,\n    className: \"mt-0\",\n    variant: shownTab === \"noteedottrina\" ? \"info\" : \"outline-info\",\n    onClick: function onClick() {\n      return setShownTab(\"noteedottrina\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }, __jsx(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 15\n    }\n  }, \"Note e Dottrina\")), __jsx(Button, {\n    block: true,\n    className: \"mt-0\",\n    variant: shownTab === \"formulari\" ? \"info\" : \"outline-info\",\n    onClick: function onClick() {\n      return setShownTab(\"formulari\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  }, __jsx(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 15\n    }\n  }, \"Formulari\"))), __jsx(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 11\n    }\n  }, __jsx(Card.Title, {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }, siteLanguage === \"ita\" ? \"Archivio\" : \"Archive\"), __jsx(Row, {\n    className: \"p-3 justify-content-center ml-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }\n  }, __jsx(Form, {\n    onSubmit: function onSubmit(event) {\n      return handleSubmit(event);\n    },\n    inline: true,\n    className: \"w-100 p-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 15\n    }\n  }, __jsx(Form.Group, {\n    className: \"w-100 justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 17\n    }\n  }, __jsx(Col, {\n    md: 9,\n    className: \"text-right pl-0 pr-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 19\n    }\n  }, __jsx(Row, {\n    className: \"w-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 21\n    }\n  }, __jsx(Col, {\n    md: 11,\n    className: \"pl-0 pr-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 23\n    }\n  }, __jsx(Form.Control, {\n    size: \"lg\",\n    type: \"text\",\n    placeholder: siteLanguage === \"ita\" ? \"Cerca nell'Archivio Legislativo\" : \"Search in our Legislation Archive\",\n    value: searchInput,\n    onChange: function onChange(event) {\n      return setSearchInput(event.target.value);\n    },\n    className: \"inline-form-custom w-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 25\n    }\n  })), __jsx(Col, {\n    md: 1,\n    className: \"pl-0 pr-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 23\n    }\n  }, __jsx(Button, {\n    block: true,\n    variant: \"info\",\n    disabled: searchInput.length < 10,\n    type: \"submit\",\n    size: \"lg\",\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 25\n    }\n  }, __jsx(\"i\", {\n    className: \"fas fa-search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 27\n    }\n  }))))), __jsx(Col, {\n    md: 3,\n    className: \"pl-0 pr-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 19\n    }\n  }, __jsx(Button, {\n    variant: \"info\",\n    className: \"ml-1 w-100\",\n    size: \"lg\",\n    onClick: isAdvanced ? function () {\n      return closeAdvancedSearch();\n    } : function () {\n      return openAdvancedSearch();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 21\n    }\n  }, __jsx(Row, {\n    className: \"m-0 w-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 23\n    }\n  }, __jsx(Col, {\n    md: 10,\n    className: \"pr-0 pl-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 25\n    }\n  }, __jsx(\"span\", {\n    className: \"kinda-small-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 27\n    }\n  }, \"Ricerca Avanzata\")), __jsx(Col, {\n    md: 2,\n    className: \"pr-0 pl-1 chevron-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 25\n    }\n  }, isAdvanced ? __jsx(\"i\", {\n    className: \"fas fa-chevron-up\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 41\n    }\n  }) : __jsx(\"i\", {\n    className: \"fas fa-chevron-down\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 81\n    }\n  })))))))), __jsx(Row, {\n    className: \"p-3 justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 13\n    }\n  }, isAdvanced && __jsx(AdvancedSearch, {\n    shownTab: shownTab,\n    loading: loading,\n    setLoading: setLoading,\n    searchInput: searchInput,\n    handleSetSearched: handleSetSearched,\n    handleSetSearchResult: handleSetSearchResult,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 17\n    }\n  })), (searched && searchResult && searchResult.length > 0 || advancedSearched) && __jsx(Row, {\n    className: \"mt-4 p-3 justify-content-center archive-result-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 15\n    }\n  }, searched && searchResult && searchResult.length > 0 && !advancedSearched && __jsx(React.Fragment, null, __jsx(Col, {\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 21\n    }\n  }, __jsx(\"h4\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 23\n    }\n  }, \"Nell'Archivio\", searchResult.length === 1 ? \" è presente \" : \" sono presenti \", searchResult.length, searchResult.length === 1 ? \" Documento \" : \" Documenti \", searched && searchResult && searchResult.length > 0 && searchResult.length === 1 ? \" contenente\" : \" contenenti\", \": \")), __jsx(Col, {\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 21\n    }\n  }, __jsx(\"p\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 23\n    }\n  }, \"\\\"\", searched, \"\\\" \"))), advancedSearched && searchResult && searchResult.length > 0 && !searched && __jsx(Col, {\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 19\n    }\n  }, __jsx(\"h4\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 21\n    }\n  }, \"Nell'Archivio\", searchResult.length === 1 ? \" è presente \" : \" sono presenti \", searchResult.length, searchResult.length === 1 ? \" Documento \" : \" Documenti \", searchResult.length === 1 ? \" che soddisfa \" : \" che soddisfano \", \"i filtri di ricerca.\")), __jsx(Col, {\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 17\n    }\n  }, __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 19\n    }\n  }, searchResult.map(function (el, i) {\n    return __jsx(\"li\", {\n      key: i,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 23\n      }\n    }, __jsx(React.Fragment, null, el.filename, el.filename && el.filename.includes(\".pdf\") && //pdf files viewer btn\n    __jsx(Button, {\n      size: \"sm\",\n      variant: \"info\",\n      className: \"ml-1 py-0 px-1\",\n      onClick: function onClick() {\n        return openPdfViewer(el.relativepath);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 29\n      }\n    }, __jsx(\"i\", {\n      className: \"fas fa-eye\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 31\n      }\n    })), el.filename && (el.filename.includes(\".docx\") || el.filename.includes(\".doc\")) && //docx files viewer btn\n    __jsx(Button, {\n      size: \"sm\",\n      variant: \"info\",\n      className: \"ml-1 py-0 px-1\",\n      onClick: function onClick() {\n        openPdfViewer(null, el.buffer);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 29\n      }\n    }, __jsx(\"i\", {\n      className: \"fas fa-eye\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 31\n      }\n    })), __jsx(PdfViewer, {\n      path: el.relativepath,\n      buffer: el.buffer,\n      filename: el.filename,\n      show: showPdfModal === el.relativepath || showPdfModal === el.buffer,\n      onClose: closePdfViewer,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 27\n      }\n    })));\n  })))), searched && searchResult && searchResult.length === 0 && __jsx(Row, {\n    className: \"mt-4 p-3 justify-content-center archive-result-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 15\n    }\n  }, __jsx(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 17\n    }\n  }, \"Nessun documento contenente: \\\" \", searched, \" \\\"\"))), __jsx(Card.Footer, {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 11\n    }\n  }, __jsx(\"small\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 13\n    }\n  }, siteLanguage === \"ita\" ? \"Archivio aggiornato al\" : \"Archive last updated\", \": 26/01/2020\")))), __jsx(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 7\n    }\n  }));\n}\n\n_s(archivio, \"ttgrmoeciNQQPw6kRvT5eVUmFqg=\", false, function () {\n  return [useLanguage];\n});","map":{"version":3,"sources":["/home/iridion/Desktop/Repos/Freelancer/project-privacy/pages/archivio.js"],"names":["useEffect","useState","styles","useLanguage","useLanguageUpdate","Row","Col","Card","Form","Button","ButtonGroup","Header","Navigation","Loading","Footer","PdfViewer","AdvancedSearch","CustomAutoSuggest","archivio","props","siteLanguage","searchInput","setSearchInput","isAdvanced","setIsAdvanced","searched","setSearched","advancedSearched","setAdvancedSearched","searchResult","setSearchResult","loading","setLoading","showPdfModal","setShowPdfModal","shownTab","setShownTab","openPdfViewer","path","buffer","closePdfViewer","handleSetSearchResult","searchResBefore","openAdvancedSearch","closeAdvancedSearch","handleSetSearched","searchedString","advancedFilters","length","submitSearch","input","fetch","method","headers","key","value","then","response","json","data","filteredDocs","resJson","console","log","handleSubmit","event","preventDefault","cleanInput","replace","container","main","target","map","el","i","filename","includes","relativepath"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react'\nimport styles from '../styles/Home.module.css'\nimport { useLanguage, useLanguageUpdate } from '../context/siteLanguageContext' //context\nimport {\n  Row,\n  Col,\n  Card,\n  Form,\n  Button,\n  ButtonGroup\n} from 'react-bootstrap'\nimport { Header } from '../components/layout/Header'\nimport { Navigation } from '../components/layout/Navbar'\nimport { Loading } from '../components/layout/Loading'\nimport { Footer } from '../components/layout/Footer'\nimport { PdfViewer } from '../components/fileViewers/pdf/PdfViewer'\nimport { AdvancedSearch } from '../components/archive/AdvancedSearch'\nimport { CustomAutoSuggest } from '../components/archive/ui/CustomAutoSuggest'\n\nexport default function archivio(props) {\n  const siteLanguage = useLanguage() //context\n  const [searchInput, setSearchInput] = useState(\"\")\n  const [isAdvanced, setIsAdvanced] = useState(false)\n  const [searched, setSearched] = useState(false)\n  const [advancedSearched, setAdvancedSearched] = useState(false)\n  const [searchResult, setSearchResult] = useState([])\n  const [loading, setLoading] = useState(false)\n  const [showPdfModal, setShowPdfModal] = useState(null)\n  const [shownTab, setShownTab] = useState(\"giurisprudenza\")\n\n  const openPdfViewer = (path, buffer) => {\n    path ? setShowPdfModal(path) : setShowPdfModal(buffer)\n  }\n\n  const closePdfViewer = () => {\n    setShowPdfModal(null)\n  }\n\n  const handleSetSearchResult = (searchResBefore) => {\n    setSearchResult(searchResBefore)\n  }\n\n  const openAdvancedSearch = () => {\n    setIsAdvanced(true)\n  }\n\n  const closeAdvancedSearch = () => {\n    setIsAdvanced(false)\n  }\n\n  const handleSetSearched = (searchedString, advancedFilters) => {\n    if (!advancedFilters) {\n      setSearched(searchedString)\n    } else {\n      setAdvancedSearched(advancedFilters)\n      if (searchedString && searchedString.length > 0) setSearched(searchedString)\n    }\n  }\n\n  const submitSearch = async (input) => {\n    //const apiUrl = \"http://\" + context.req.headers.host + \"/api/consultation\" url a seconda dell'ambiente\n    try {\n      setLoading(true)\n      const resJson = await fetch(`http://localhost:3000/api/archive/search?searchterms=${input}`, {\n        method: 'GET',\n        headers: {\n          key: 'Access-Control-Allow-Origin',\n          value: '*'\n        }\n      })\n        .then(response => response.json())\n        .then(async response => {\n          handleSetSearchResult(response.data.filteredDocs)\n          handleSetSearched(searchInput)\n          setLoading(false)\n        })\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    const cleanInput = searchInput.replace(/[^\\w\\s]/gi, '')\n    submitSearch(cleanInput)\n  }\n\n  useEffect(() => {\n    //console.log(\"useEffect console.log:\")\n  })\n\n\n  return (\n    <div className={styles.container}>\n      <Header\n        title={siteLanguage === \"ita\" ? \"Archivio\" : \"Archive\"}\n      />\n      {/* Navbar */}\n      <Navigation />\n\n      {loading && <Loading />}\n      {/* Page Content */}\n      <main className={styles.main}>\n        <Card className=\"p-2 fixed-width-card\">\n          <Card.Img variant=\"top\" src=\"archiveImg.png\" />\n          <ButtonGroup className=\"mt-5 mb-3 w-100\">\n            <Button\n              block\n              className=\"mt-0\"\n              variant={(shownTab === \"giurisprudenza\") ? \"info\" : \"outline-info\"}\n              onClick={() => setShownTab(\"giurisprudenza\")}\n            >\n              <h4>Giurisprudenza</h4>\n            </Button>\n            <Button\n              block\n              className=\"mt-0\"\n              variant={(shownTab === \"normativa\") ? \"info\" : \"outline-info\"}\n              onClick={() => setShownTab(\"normativa\")}\n            >\n              <h4>Normativa</h4>\n            </Button>\n            <Button\n              block\n              className=\"mt-0\"\n              variant={(shownTab === \"noteedottrina\") ? \"info\" : \"outline-info\"}\n              onClick={() => setShownTab(\"noteedottrina\")}\n            >\n              <h4>Note e Dottrina</h4>\n            </Button>\n            <Button\n              block\n              className=\"mt-0\"\n              variant={(shownTab === \"formulari\") ? \"info\" : \"outline-info\"}\n              onClick={() => setShownTab(\"formulari\")}\n            >\n              <h4>Formulari</h4>\n            </Button>\n          </ButtonGroup>\n          <Card.Body>\n            <Card.Title className=\"text-center\">{siteLanguage === \"ita\" ? \"Archivio\" : \"Archive\"}</Card.Title>\n            <Row className=\"p-3 justify-content-center ml-0\">\n              <Form\n                onSubmit={(event) => handleSubmit(event)}\n                inline\n                className=\"w-100 p-0\"\n              >\n                <Form.Group className=\"w-100 justify-content-center\">\n                  <Col md={9} className=\"text-right pl-0 pr-0\">\n                    <Row className=\"w-100\">\n                      <Col md={11} className=\"pl-0 pr-0\">\n                        <Form.Control\n                          size=\"lg\"\n                          type=\"text\"\n                          placeholder={siteLanguage === \"ita\" ? \"Cerca nell'Archivio Legislativo\" : \"Search in our Legislation Archive\"}\n                          value={searchInput}\n                          onChange={event => setSearchInput(event.target.value)}\n                          className=\"inline-form-custom w-100\"\n                        />\n                      </Col>\n                      <Col md={1} className=\"pl-0 pr-0\">\n                        <Button\n                          block\n                          variant={\"info\"}\n                          disabled={searchInput.length < 10}\n                          type=\"submit\"\n                          size=\"lg\"\n                          className=\"\">\n                          <i className=\"fas fa-search\"></i>\n                        </Button>\n                      </Col>\n                    </Row>\n                  </Col>\n                  <Col md={3} className=\"pl-0 pr-0\">\n                    <Button\n                      variant={\"info\"}\n                      className=\"ml-1 w-100\"\n                      size=\"lg\"\n                      onClick={isAdvanced ? () => closeAdvancedSearch() : () => openAdvancedSearch()}\n                    >\n                      <Row className=\"m-0 w-100\">\n                        <Col md={10} className=\"pr-0 pl-0\">\n                          <span className=\"kinda-small-text\">Ricerca Avanzata</span>\n                        </Col>\n                        <Col md={2} className=\"pr-0 pl-1 chevron-container\">\n                          {isAdvanced ? <i className=\"fas fa-chevron-up\"></i> : <i className=\"fas fa-chevron-down\"></i>}\n                        </Col>\n                      </Row>\n                    </Button>\n                  </Col>\n                </Form.Group>\n              </Form>\n            </Row>\n            <Row className=\"p-3 justify-content-center\">\n              {isAdvanced &&\n                <AdvancedSearch\n                  shownTab={shownTab}\n                  loading={loading}\n                  setLoading={setLoading}\n                  searchInput={searchInput}\n                  handleSetSearched={handleSetSearched}\n                  handleSetSearchResult={handleSetSearchResult}\n                />\n              }\n            </Row>\n            {((searched && searchResult && searchResult.length > 0) || (advancedSearched)) && (\n              <Row className=\"mt-4 p-3 justify-content-center archive-result-container\">\n                {(searched && searchResult && searchResult.length > 0 && !advancedSearched) &&\n                  <>\n                    <Col md={12}>\n                      <h4 className=\"text-center\">Nell'Archivio\n                  {searchResult.length === 1 ? \" è presente \" : \" sono presenti \"}\n                        {searchResult.length}\n                        {searchResult.length === 1 ? \" Documento \" : \" Documenti \"}\n                        {(searched && searchResult && searchResult.length > 0) && searchResult.length === 1 ? \" contenente\" : \" contenenti\"}: </h4>\n                    </Col>\n                    <Col md={12}>\n                      <p className=\"text-center\">\"{searched}\" </p>\n                    </Col>\n                  </>\n                }\n                {(advancedSearched && searchResult && searchResult.length > 0 && !searched) &&\n                  <Col md={12}>\n                    <h4 className=\"text-center\">Nell'Archivio\n                  {searchResult.length === 1 ? \" è presente \" : \" sono presenti \"}\n                      {searchResult.length}\n                      {searchResult.length === 1 ? \" Documento \" : \" Documenti \"}\n                      {searchResult.length === 1 ? \" che soddisfa \" : \" che soddisfano \"}\n                      i filtri di ricerca.\n                      </h4>\n                  </Col>\n                }\n                <Col md={12}>\n                  <ul>\n                    {searchResult.map((el, i) => (\n                      <li key={i}>\n                        <>\n                          {el.filename}\n                          {(el.filename && el.filename.includes(\".pdf\")) && //pdf files viewer btn\n                            <Button\n                              size=\"sm\"\n                              variant=\"info\"\n                              className=\"ml-1 py-0 px-1\"\n                              onClick={() => openPdfViewer(el.relativepath)}\n                            >\n                              <i className=\"fas fa-eye\"></i>\n                            </Button>\n                          }\n                          {(el.filename && (el.filename.includes(\".docx\") || el.filename.includes(\".doc\"))) && //docx files viewer btn\n                            <Button\n                              size=\"sm\"\n                              variant=\"info\"\n                              className=\"ml-1 py-0 px-1\"\n                              onClick={() => {\n                                openPdfViewer(null, el.buffer)\n                              }}\n                            >\n                              <i className=\"fas fa-eye\"></i>\n                            </Button>\n                          }\n                          <PdfViewer\n                            path={el.relativepath}\n                            buffer={el.buffer}\n                            filename={el.filename}\n                            show={showPdfModal === el.relativepath || showPdfModal === el.buffer}\n                            onClose={closePdfViewer}\n                          />\n                        </>\n                      </li>\n                    ))}\n                  </ul>\n                </Col>\n              </Row>\n            )}\n\n            {(searched && searchResult && searchResult.length === 0) && (\n              <Row className=\"mt-4 p-3 justify-content-center archive-result-container\">\n                <h4>Nessun documento contenente: \" {searched} \"</h4>\n              </Row>\n            )}\n\n          </Card.Body>\n\n\n          <Card.Footer className=\"text-center\">\n            <small className=\"text-muted\">{siteLanguage === \"ita\" ? \"Archivio aggiornato al\" : \"Archive last updated\"}: 26/01/2020</small>\n          </Card.Footer>\n        </Card>\n      </main >\n      {/* Footer */}\n      < Footer />\n    </div >\n  )\n}"]},"metadata":{},"sourceType":"module"}