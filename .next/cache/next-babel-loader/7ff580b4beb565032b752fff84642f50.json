{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport styles from '../styles/Home.module.css';\nimport { useState } from 'react';\nimport path from 'path';\nimport { useLanguage } from '../context/siteLanguageContext'; //context\n\nimport { Row, Col, Card, Button } from 'react-bootstrap';\nimport { Header } from '../components/layout/Header';\nimport { Navigation } from '../components/layout/Navbar';\nimport { Footer } from '../components/layout/Footer';\nimport { ConsultationChoice } from '../components/consultation/ConsultationChoice';\nimport { ConsultationCard } from '../components/consultation/ConsultationCard';\n\nfunction consulenza(props) {\n  var siteLanguage = useLanguage(); //context\n\n  var translate = function translate(lang, data) {\n    return data[lang];\n  };\n\n  var _useState = useState(null),\n      consultation = _useState[0],\n      setConsultation = _useState[1];\n\n  return __jsx(\"div\", {\n    className: styles.container\n  }, __jsx(Header, {\n    title: siteLanguage === \"ita\" ? \"Consulenza\" : \"Privacy Advice\"\n  }), __jsx(Navigation, null), __jsx(\"main\", {\n    className: styles.main\n  }, __jsx(Card, {\n    className: \"p-2 responsive-width-card\"\n  }, __jsx(Card.Img, {\n    className: \"black-border\",\n    variant: \"top\",\n    src: \"consulenza.png\"\n  }), __jsx(Card.Body, null, __jsx(Row, null, __jsx(Col, {\n    md: 3\n  }, consultation && __jsx(Button, {\n    variant: \"info\",\n    onClick: function onClick() {\n      return setConsultation(null);\n    }\n  }, __jsx(\"i\", {\n    className: \"fas fa-long-arrow-alt-left mr-2\"\n  }), siteLanguage === \"ita\" ? \"Torna Indietro\" : \"Back to Selection\")), __jsx(Col, {\n    md: 6\n  }, __jsx(Card.Title, {\n    className: \"text-center\"\n  }, \" \", __jsx(\"h1\", null, siteLanguage === \"ita\" ? \"Consulenza\" : \"Consultation\", consultation ? \": \" + consultation[siteLanguage].title : \"\")))), !consultation && __jsx(ConsultationChoice, {\n    consultations: props.consultations,\n    setConsultation: setConsultation\n  }), consultation && __jsx(ConsultationCard, {\n    consultation: consultation,\n    setConsultation: setConsultation\n  })), __jsx(Card.Footer, {\n    className: \"text-center\"\n  }))), __jsx(Footer, null));\n}\n\nconsulenza.getInitialProps = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(context) {\n    var apiUrl, resConsult, consultations;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            apiUrl = \"http://\" + context.req.headers.host + \"/api/consultation\";\n            _context.next = 3;\n            return fetch(apiUrl);\n\n          case 3:\n            resConsult = _context.sent;\n            _context.next = 6;\n            return resConsult.json();\n\n          case 6:\n            consultations = _context.sent;\n            return _context.abrupt(\"return\", {\n              consultations: consultations.data\n            });\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexport default consulenza;\n/* //Rimozione di getServerSideProps per deployare su Firebase\nexport async function getServerSideProps(context) {\n  const apiUrl = \"http://\" + context.req.headers.host + \"/api/consultation\"\n  const resConsult = await fetch(apiUrl)\n  const consultations = await resConsult.json()\n  return { props: { consultations: consultations.data } }\n}\n*/","map":null,"metadata":{},"sourceType":"module"}