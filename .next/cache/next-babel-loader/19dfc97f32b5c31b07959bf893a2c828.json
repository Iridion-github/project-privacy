{"ast":null,"code":"var _jsxFileName = \"/home/iridion/Desktop/Repos/Freelancer/project-privacy/pages/archivio.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect, useState } from 'react';\nimport styles from '../styles/Home.module.css';\nimport { useLanguage, useLanguageUpdate } from '../context/siteLanguageContext'; //context\n\nimport { Row, Col, Card, Form, Button, ButtonGroup } from 'react-bootstrap';\nimport { Header } from '../components/layout/Header';\nimport { Navigation } from '../components/layout/Navbar';\nimport { Loading } from '../components/layout/Loading';\nimport { Footer } from '../components/layout/Footer';\nimport { PdfViewer } from '../components/fileViewers/pdf/PdfViewer';\nimport { AdvancedSearch } from '../components/archive/AdvancedSearch';\nimport { CustomAutoSuggest } from '../components/archive/ui/CustomAutoSuggest';\nexport default function archivio(props) {\n  const siteLanguage = useLanguage(); //context\n\n  const {\n    0: searchInput,\n    1: setSearchInput\n  } = useState(\"\");\n  const {\n    0: isAdvanced,\n    1: setIsAdvanced\n  } = useState(false);\n  const {\n    0: searched,\n    1: setSearched\n  } = useState(false);\n  const {\n    0: advancedSearched,\n    1: setAdvancedSearched\n  } = useState(false);\n  const {\n    0: searchResult,\n    1: setSearchResult\n  } = useState([]);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  const {\n    0: showPdfModal,\n    1: setShowPdfModal\n  } = useState(null);\n  const {\n    0: shownTab,\n    1: setShownTab\n  } = useState(\"giurisprudenza\");\n\n  const handleChangeShownTab = targetTab => {\n    setShownTab(targetTab);\n  };\n\n  const openPdfViewer = (path, buffer) => {\n    path ? setShowPdfModal(path) : setShowPdfModal(buffer);\n  };\n\n  const closePdfViewer = () => {\n    setShowPdfModal(null);\n  };\n\n  const handleSetSearchResult = searchResBefore => {\n    setSearchResult(searchResBefore);\n  };\n\n  const openAdvancedSearch = () => {\n    setIsAdvanced(true);\n  };\n\n  const closeAdvancedSearch = () => {\n    setIsAdvanced(false);\n  };\n\n  const handleSetSearched = (searchedString, advancedFilters) => {\n    if (!advancedFilters) {\n      setSearched(searchedString);\n    } else {\n      setAdvancedSearched(advancedFilters);\n      if (searchedString && searchedString.length > 0) setSearched(searchedString);\n    }\n  };\n\n  const submitSearch = async input => {\n    //const apiUrl = \"http://\" + context.req.headers.host + \"/api/consultation\" url a seconda dell'ambiente\n    try {\n      setLoading(true);\n      const resJson = await fetch(`http://localhost:3000/api/archive/search?searchterms=${input}`, {\n        method: 'GET',\n        headers: {\n          key: 'Access-Control-Allow-Origin',\n          value: '*'\n        }\n      }).then(response => response.json()).then(async response => {\n        handleSetSearchResult(response.data.filteredDocs);\n        handleSetSearched(searchInput);\n        setLoading(false);\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const cleanInput = searchInput.replace(/[^\\w\\s]/gi, '');\n    submitSearch(cleanInput);\n  };\n\n  useEffect(() => {//console.log(\"useEffect console.log:\")\n  });\n  return __jsx(\"div\", {\n    className: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }\n  }, __jsx(Header, {\n    title: siteLanguage === \"ita\" ? \"Archivio\" : \"Archive\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }), __jsx(Navigation, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }), loading && __jsx(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 19\n    }\n  }), __jsx(\"main\", {\n    className: styles.main,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }, __jsx(Card, {\n    className: \"p-2 fixed-width-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, __jsx(Card.Img, {\n    variant: \"top\",\n    src: \"archiveImg.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }\n  }), __jsx(ButtonGroup, {\n    className: \"mt-5 mb-3 w-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, __jsx(Button, {\n    block: true,\n    className: \"mt-0\",\n    variant: shownTab === \"giurisprudenza\" ? \"info\" : \"outline-info\",\n    onClick: () => setShownTab(\"giurisprudenza\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, __jsx(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 15\n    }\n  }, \"Giurisprudenza\")), __jsx(Button, {\n    block: true,\n    className: \"mt-0\",\n    variant: shownTab === \"normativa\" ? \"info\" : \"outline-info\",\n    onClick: () => setShownTab(\"normativa\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }, __jsx(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 15\n    }\n  }, \"Normativa\")), __jsx(Button, {\n    block: true,\n    className: \"mt-0\",\n    variant: shownTab === \"noteedottrina\" ? \"info\" : \"outline-info\",\n    onClick: () => setShownTab(\"noteedottrina\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, __jsx(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 15\n    }\n  }, \"Note e Dottrina\")), __jsx(Button, {\n    block: true,\n    className: \"mt-0\",\n    variant: shownTab === \"formulari\" ? \"info\" : \"outline-info\",\n    onClick: () => setShownTab(\"formulari\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }, __jsx(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 15\n    }\n  }, \"Formulari\"))), __jsx(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 11\n    }\n  }, __jsx(Card.Title, {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }\n  }, siteLanguage === \"ita\" ? \"Archivio\" : \"Archive\"), __jsx(Row, {\n    className: \"p-3 justify-content-center ml-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }\n  }, __jsx(Form, {\n    onSubmit: event => handleSubmit(event),\n    inline: true,\n    className: \"w-100 p-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 15\n    }\n  }, __jsx(Form.Group, {\n    className: \"w-100 justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 17\n    }\n  }, __jsx(Col, {\n    md: 9,\n    className: \"text-right pl-0 pr-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 19\n    }\n  }, __jsx(Row, {\n    className: \"w-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 21\n    }\n  }, __jsx(Col, {\n    md: 11,\n    className: \"pl-0 pr-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 23\n    }\n  }, __jsx(Form.Control, {\n    size: \"lg\",\n    type: \"text\",\n    placeholder: siteLanguage === \"ita\" ? \"Cerca nell'Archivio Legislativo\" : \"Search in our Legislation Archive\",\n    value: searchInput,\n    onChange: event => setSearchInput(event.target.value),\n    className: \"inline-form-custom w-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 25\n    }\n  })), __jsx(Col, {\n    md: 1,\n    className: \"pl-0 pr-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 23\n    }\n  }, __jsx(Button, {\n    block: true,\n    variant: \"info\",\n    disabled: searchInput.length < 10,\n    type: \"submit\",\n    size: \"lg\",\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 25\n    }\n  }, __jsx(\"i\", {\n    className: \"fas fa-search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 27\n    }\n  }))))), __jsx(Col, {\n    md: 3,\n    className: \"pl-0 pr-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 19\n    }\n  }, __jsx(Button, {\n    variant: \"info\",\n    className: \"ml-1 w-100\",\n    size: \"lg\",\n    onClick: isAdvanced ? () => closeAdvancedSearch() : () => openAdvancedSearch(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 21\n    }\n  }, __jsx(Row, {\n    className: \"m-0 w-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 23\n    }\n  }, __jsx(Col, {\n    md: 10,\n    className: \"pr-0 pl-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 25\n    }\n  }, __jsx(\"span\", {\n    className: \"kinda-small-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 27\n    }\n  }, \"Ricerca Avanzata\")), __jsx(Col, {\n    md: 2,\n    className: \"pr-0 pl-1 chevron-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 25\n    }\n  }, isAdvanced ? __jsx(\"i\", {\n    className: \"fas fa-chevron-up\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 41\n    }\n  }) : __jsx(\"i\", {\n    className: \"fas fa-chevron-down\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 81\n    }\n  })))))))), __jsx(Row, {\n    className: \"p-3 justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 13\n    }\n  }, isAdvanced && __jsx(AdvancedSearch, {\n    shownTab: shownTab,\n    loading: loading,\n    setLoading: setLoading,\n    searchInput: searchInput,\n    handleSetSearched: handleSetSearched,\n    handleSetSearchResult: handleSetSearchResult,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 17\n    }\n  })), (searched && searchResult && searchResult.length > 0 || advancedSearched) && __jsx(Row, {\n    className: \"mt-4 p-3 justify-content-center archive-result-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 15\n    }\n  }, searched && searchResult && searchResult.length > 0 && !advancedSearched && __jsx(React.Fragment, null, __jsx(Col, {\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 21\n    }\n  }, __jsx(\"h4\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 23\n    }\n  }, \"Nell'Archivio\", searchResult.length === 1 ? \" è presente \" : \" sono presenti \", searchResult.length, searchResult.length === 1 ? \" Documento \" : \" Documenti \", searched && searchResult && searchResult.length > 0 && searchResult.length === 1 ? \" contenente\" : \" contenenti\", \": \")), __jsx(Col, {\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 21\n    }\n  }, __jsx(\"p\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 23\n    }\n  }, \"\\\"\", searched, \"\\\" \"))), advancedSearched && searchResult && searchResult.length > 0 && !searched && __jsx(Col, {\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 19\n    }\n  }, __jsx(\"h4\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 21\n    }\n  }, \"Nell'Archivio\", searchResult.length === 1 ? \" è presente \" : \" sono presenti \", searchResult.length, searchResult.length === 1 ? \" Documento \" : \" Documenti \", searchResult.length === 1 ? \" che soddisfa \" : \" che soddisfano \", \"i filtri di ricerca.\")), __jsx(Col, {\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 17\n    }\n  }, __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 19\n    }\n  }, searchResult.map((el, i) => __jsx(\"li\", {\n    key: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 23\n    }\n  }, __jsx(React.Fragment, null, el.filename, el.filename && el.filename.includes(\".pdf\") && //pdf files viewer btn\n  __jsx(Button, {\n    size: \"sm\",\n    variant: \"info\",\n    className: \"ml-1 py-0 px-1\",\n    onClick: () => openPdfViewer(el.relativepath),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 29\n    }\n  }, __jsx(\"i\", {\n    className: \"fas fa-eye\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 31\n    }\n  })), el.filename && (el.filename.includes(\".docx\") || el.filename.includes(\".doc\")) && //docx files viewer btn\n  __jsx(Button, {\n    size: \"sm\",\n    variant: \"info\",\n    className: \"ml-1 py-0 px-1\",\n    onClick: () => {\n      openPdfViewer(null, el.buffer);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 29\n    }\n  }, __jsx(\"i\", {\n    className: \"fas fa-eye\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 31\n    }\n  })), __jsx(PdfViewer, {\n    path: el.relativepath,\n    buffer: el.buffer,\n    filename: el.filename,\n    show: showPdfModal === el.relativepath || showPdfModal === el.buffer,\n    onClose: closePdfViewer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 27\n    }\n  }))))))), searched && searchResult && searchResult.length === 0 && __jsx(Row, {\n    className: \"mt-4 p-3 justify-content-center archive-result-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 15\n    }\n  }, __jsx(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 17\n    }\n  }, \"Nessun documento contenente: \\\" \", searched, \" \\\"\"))), __jsx(Card.Footer, {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 11\n    }\n  }, __jsx(\"small\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 13\n    }\n  }, siteLanguage === \"ita\" ? \"Archivio aggiornato al\" : \"Archive last updated\", \": 26/01/2020\")))), __jsx(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/home/iridion/Desktop/Repos/Freelancer/project-privacy/pages/archivio.js"],"names":["useEffect","useState","styles","useLanguage","useLanguageUpdate","Row","Col","Card","Form","Button","ButtonGroup","Header","Navigation","Loading","Footer","PdfViewer","AdvancedSearch","CustomAutoSuggest","archivio","props","siteLanguage","searchInput","setSearchInput","isAdvanced","setIsAdvanced","searched","setSearched","advancedSearched","setAdvancedSearched","searchResult","setSearchResult","loading","setLoading","showPdfModal","setShowPdfModal","shownTab","setShownTab","handleChangeShownTab","targetTab","openPdfViewer","path","buffer","closePdfViewer","handleSetSearchResult","searchResBefore","openAdvancedSearch","closeAdvancedSearch","handleSetSearched","searchedString","advancedFilters","length","submitSearch","input","resJson","fetch","method","headers","key","value","then","response","json","data","filteredDocs","error","console","log","handleSubmit","event","preventDefault","cleanInput","replace","container","main","target","map","el","i","filename","includes","relativepath"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,SAASC,WAAT,EAAsBC,iBAAtB,QAA+C,gCAA/C,C,CAAgF;;AAChF,SACEC,GADF,EAEEC,GAFF,EAGEC,IAHF,EAIEC,IAJF,EAKEC,MALF,EAMEC,WANF,QAOO,iBAPP;AAQA,SAASC,MAAT,QAAuB,6BAAvB;AACA,SAASC,UAAT,QAA2B,6BAA3B;AACA,SAASC,OAAT,QAAwB,8BAAxB;AACA,SAASC,MAAT,QAAuB,6BAAvB;AACA,SAASC,SAAT,QAA0B,yCAA1B;AACA,SAASC,cAAT,QAA+B,sCAA/B;AACA,SAASC,iBAAT,QAAkC,4CAAlC;AAEA,eAAe,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AACtC,QAAMC,YAAY,GAAGjB,WAAW,EAAhC,CADsC,CACH;;AACnC,QAAM;AAAA,OAACkB,WAAD;AAAA,OAAcC;AAAd,MAAgCrB,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM;AAAA,OAACsB,UAAD;AAAA,OAAaC;AAAb,MAA8BvB,QAAQ,CAAC,KAAD,CAA5C;AACA,QAAM;AAAA,OAACwB,QAAD;AAAA,OAAWC;AAAX,MAA0BzB,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM;AAAA,OAAC0B,gBAAD;AAAA,OAAmBC;AAAnB,MAA0C3B,QAAQ,CAAC,KAAD,CAAxD;AACA,QAAM;AAAA,OAAC4B,YAAD;AAAA,OAAeC;AAAf,MAAkC7B,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM;AAAA,OAAC8B,OAAD;AAAA,OAAUC;AAAV,MAAwB/B,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM;AAAA,OAACgC,YAAD;AAAA,OAAeC;AAAf,MAAkCjC,QAAQ,CAAC,IAAD,CAAhD;AACA,QAAM;AAAA,OAACkC,QAAD;AAAA,OAAWC;AAAX,MAA0BnC,QAAQ,CAAC,gBAAD,CAAxC;;AAEA,QAAMoC,oBAAoB,GAAIC,SAAD,IAAe;AAC1CF,IAAAA,WAAW,CAACE,SAAD,CAAX;AACD,GAFD;;AAIA,QAAMC,aAAa,GAAG,CAACC,IAAD,EAAOC,MAAP,KAAkB;AACtCD,IAAAA,IAAI,GAAGN,eAAe,CAACM,IAAD,CAAlB,GAA2BN,eAAe,CAACO,MAAD,CAA9C;AACD,GAFD;;AAIA,QAAMC,cAAc,GAAG,MAAM;AAC3BR,IAAAA,eAAe,CAAC,IAAD,CAAf;AACD,GAFD;;AAIA,QAAMS,qBAAqB,GAAIC,eAAD,IAAqB;AACjDd,IAAAA,eAAe,CAACc,eAAD,CAAf;AACD,GAFD;;AAIA,QAAMC,kBAAkB,GAAG,MAAM;AAC/BrB,IAAAA,aAAa,CAAC,IAAD,CAAb;AACD,GAFD;;AAIA,QAAMsB,mBAAmB,GAAG,MAAM;AAChCtB,IAAAA,aAAa,CAAC,KAAD,CAAb;AACD,GAFD;;AAIA,QAAMuB,iBAAiB,GAAG,CAACC,cAAD,EAAiBC,eAAjB,KAAqC;AAC7D,QAAI,CAACA,eAAL,EAAsB;AACpBvB,MAAAA,WAAW,CAACsB,cAAD,CAAX;AACD,KAFD,MAEO;AACLpB,MAAAA,mBAAmB,CAACqB,eAAD,CAAnB;AACA,UAAID,cAAc,IAAIA,cAAc,CAACE,MAAf,GAAwB,CAA9C,EAAiDxB,WAAW,CAACsB,cAAD,CAAX;AAClD;AACF,GAPD;;AASA,QAAMG,YAAY,GAAG,MAAOC,KAAP,IAAiB;AACpC;AACA,QAAI;AACFpB,MAAAA,UAAU,CAAC,IAAD,CAAV;AACA,YAAMqB,OAAO,GAAG,MAAMC,KAAK,CAAE,wDAAuDF,KAAM,EAA/D,EAAkE;AAC3FG,QAAAA,MAAM,EAAE,KADmF;AAE3FC,QAAAA,OAAO,EAAE;AACPC,UAAAA,GAAG,EAAE,6BADE;AAEPC,UAAAA,KAAK,EAAE;AAFA;AAFkF,OAAlE,CAAL,CAOnBC,IAPmB,CAOdC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAPE,EAQnBF,IARmB,CAQd,MAAMC,QAAN,IAAkB;AACtBjB,QAAAA,qBAAqB,CAACiB,QAAQ,CAACE,IAAT,CAAcC,YAAf,CAArB;AACAhB,QAAAA,iBAAiB,CAAC1B,WAAD,CAAjB;AACAW,QAAAA,UAAU,CAAC,KAAD,CAAV;AACD,OAZmB,CAAtB;AAaD,KAfD,CAeE,OAAOgC,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACF,GApBD;;AAsBA,QAAMG,YAAY,GAAIC,KAAD,IAAW;AAC9BA,IAAAA,KAAK,CAACC,cAAN;AACA,UAAMC,UAAU,GAAGjD,WAAW,CAACkD,OAAZ,CAAoB,WAApB,EAAiC,EAAjC,CAAnB;AACApB,IAAAA,YAAY,CAACmB,UAAD,CAAZ;AACD,GAJD;;AAMAtE,EAAAA,SAAS,CAAC,MAAM,CACd;AACD,GAFQ,CAAT;AAKA,SACE;AAAK,IAAA,SAAS,EAAEE,MAAM,CAACsE,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,MAAD;AACE,IAAA,KAAK,EAAEpD,YAAY,KAAK,KAAjB,GAAyB,UAAzB,GAAsC,SAD/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAKE,MAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,EAOGW,OAAO,IAAI,MAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPd,EASE;AAAM,IAAA,SAAS,EAAE7B,MAAM,CAACuE,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAM,IAAA,SAAS,EAAC,sBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD,CAAM,GAAN;AAAU,IAAA,OAAO,EAAC,KAAlB;AAAwB,IAAA,GAAG,EAAC,gBAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,MAAC,WAAD;AAAa,IAAA,SAAS,EAAC,iBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,MAAD;AACE,IAAA,KAAK,MADP;AAEE,IAAA,SAAS,EAAC,MAFZ;AAGE,IAAA,OAAO,EAAGtC,QAAQ,KAAK,gBAAd,GAAkC,MAAlC,GAA2C,cAHtD;AAIE,IAAA,OAAO,EAAE,MAAMC,WAAW,CAAC,gBAAD,CAJ5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBANF,CADF,EASE,MAAC,MAAD;AACE,IAAA,KAAK,MADP;AAEE,IAAA,SAAS,EAAC,MAFZ;AAGE,IAAA,OAAO,EAAGD,QAAQ,KAAK,WAAd,GAA6B,MAA7B,GAAsC,cAHjD;AAIE,IAAA,OAAO,EAAE,MAAMC,WAAW,CAAC,WAAD,CAJ5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBANF,CATF,EAiBE,MAAC,MAAD;AACE,IAAA,KAAK,MADP;AAEE,IAAA,SAAS,EAAC,MAFZ;AAGE,IAAA,OAAO,EAAGD,QAAQ,KAAK,eAAd,GAAiC,MAAjC,GAA0C,cAHrD;AAIE,IAAA,OAAO,EAAE,MAAMC,WAAW,CAAC,eAAD,CAJ5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBANF,CAjBF,EAyBE,MAAC,MAAD;AACE,IAAA,KAAK,MADP;AAEE,IAAA,SAAS,EAAC,MAFZ;AAGE,IAAA,OAAO,EAAGD,QAAQ,KAAK,WAAd,GAA6B,MAA7B,GAAsC,cAHjD;AAIE,IAAA,OAAO,EAAE,MAAMC,WAAW,CAAC,WAAD,CAJ5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBANF,CAzBF,CAFF,EAoCE,MAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD,CAAM,KAAN;AAAY,IAAA,SAAS,EAAC,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAqChB,YAAY,KAAK,KAAjB,GAAyB,UAAzB,GAAsC,SAA3E,CADF,EAEE,MAAC,GAAD;AAAK,IAAA,SAAS,EAAC,iCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AACE,IAAA,QAAQ,EAAGgD,KAAD,IAAWD,YAAY,CAACC,KAAD,CADnC;AAEE,IAAA,MAAM,MAFR;AAGE,IAAA,SAAS,EAAC,WAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE,MAAC,IAAD,CAAM,KAAN;AAAY,IAAA,SAAS,EAAC,8BAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,GAAD;AAAK,IAAA,EAAE,EAAE,CAAT;AAAY,IAAA,SAAS,EAAC,sBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,GAAD;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,GAAD;AAAK,IAAA,EAAE,EAAE,EAAT;AAAa,IAAA,SAAS,EAAC,WAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD,CAAM,OAAN;AACE,IAAA,IAAI,EAAC,IADP;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,WAAW,EAAEhD,YAAY,KAAK,KAAjB,GAAyB,iCAAzB,GAA6D,mCAH5E;AAIE,IAAA,KAAK,EAAEC,WAJT;AAKE,IAAA,QAAQ,EAAE+C,KAAK,IAAI9C,cAAc,CAAC8C,KAAK,CAACM,MAAN,CAAahB,KAAd,CALnC;AAME,IAAA,SAAS,EAAC,0BANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAWE,MAAC,GAAD;AAAK,IAAA,EAAE,EAAE,CAAT;AAAY,IAAA,SAAS,EAAC,WAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,MAAD;AACE,IAAA,KAAK,MADP;AAEE,IAAA,OAAO,EAAE,MAFX;AAGE,IAAA,QAAQ,EAAErC,WAAW,CAAC6B,MAAZ,GAAqB,EAHjC;AAIE,IAAA,IAAI,EAAC,QAJP;AAKE,IAAA,IAAI,EAAC,IALP;AAME,IAAA,SAAS,EAAC,EANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE;AAAG,IAAA,SAAS,EAAC,eAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,CADF,CAXF,CADF,CADF,EA0BE,MAAC,GAAD;AAAK,IAAA,EAAE,EAAE,CAAT;AAAY,IAAA,SAAS,EAAC,WAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,MAAD;AACE,IAAA,OAAO,EAAE,MADX;AAEE,IAAA,SAAS,EAAC,YAFZ;AAGE,IAAA,IAAI,EAAC,IAHP;AAIE,IAAA,OAAO,EAAE3B,UAAU,GAAG,MAAMuB,mBAAmB,EAA5B,GAAiC,MAAMD,kBAAkB,EAJ9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAME,MAAC,GAAD;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,GAAD;AAAK,IAAA,EAAE,EAAE,EAAT;AAAa,IAAA,SAAS,EAAC,WAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,SAAS,EAAC,kBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,CADF,EAIE,MAAC,GAAD;AAAK,IAAA,EAAE,EAAE,CAAT;AAAY,IAAA,SAAS,EAAC,6BAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGtB,UAAU,GAAG;AAAG,IAAA,SAAS,EAAC,mBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAH,GAA2C;AAAG,IAAA,SAAS,EAAC,qBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADxD,CAJF,CANF,CADF,CA1BF,CALF,CADF,CAFF,EAsDE,MAAC,GAAD;AAAK,IAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,UAAU,IACT,MAAC,cAAD;AACE,IAAA,QAAQ,EAAEY,QADZ;AAEE,IAAA,OAAO,EAAEJ,OAFX;AAGE,IAAA,UAAU,EAAEC,UAHd;AAIE,IAAA,WAAW,EAAEX,WAJf;AAKE,IAAA,iBAAiB,EAAE0B,iBALrB;AAME,IAAA,qBAAqB,EAAEJ,qBANzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CAtDF,EAkEG,CAAElB,QAAQ,IAAII,YAAZ,IAA4BA,YAAY,CAACqB,MAAb,GAAsB,CAAnD,IAA0DvB,gBAA3D,KACC,MAAC,GAAD;AAAK,IAAA,SAAS,EAAC,0DAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACIF,QAAQ,IAAII,YAAZ,IAA4BA,YAAY,CAACqB,MAAb,GAAsB,CAAlD,IAAuD,CAACvB,gBAAzD,IACC,4BACE,MAAC,GAAD;AAAK,IAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACHE,YAAY,CAACqB,MAAb,KAAwB,CAAxB,GAA4B,cAA5B,GAA6C,iBAD1C,EAEGrB,YAAY,CAACqB,MAFhB,EAGGrB,YAAY,CAACqB,MAAb,KAAwB,CAAxB,GAA4B,aAA5B,GAA4C,aAH/C,EAIIzB,QAAQ,IAAII,YAAZ,IAA4BA,YAAY,CAACqB,MAAb,GAAsB,CAAnD,IAAyDrB,YAAY,CAACqB,MAAb,KAAwB,CAAjF,GAAqF,aAArF,GAAqG,aAJxG,OADF,CADF,EAQE,MAAC,GAAD;AAAK,IAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA6BzB,QAA7B,QADF,CARF,CAFJ,EAeIE,gBAAgB,IAAIE,YAApB,IAAoCA,YAAY,CAACqB,MAAb,GAAsB,CAA1D,IAA+D,CAACzB,QAAjE,IACC,MAAC,GAAD;AAAK,IAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACDI,YAAY,CAACqB,MAAb,KAAwB,CAAxB,GAA4B,cAA5B,GAA6C,iBAD5C,EAEGrB,YAAY,CAACqB,MAFhB,EAGGrB,YAAY,CAACqB,MAAb,KAAwB,CAAxB,GAA4B,aAA5B,GAA4C,aAH/C,EAIGrB,YAAY,CAACqB,MAAb,KAAwB,CAAxB,GAA4B,gBAA5B,GAA+C,kBAJlD,yBADF,CAhBJ,EA0BE,MAAC,GAAD;AAAK,IAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGrB,YAAY,CAAC8C,GAAb,CAAiB,CAACC,EAAD,EAAKC,CAAL,KAChB;AAAI,IAAA,GAAG,EAAEA,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,4BACGD,EAAE,CAACE,QADN,EAEIF,EAAE,CAACE,QAAH,IAAeF,EAAE,CAACE,QAAH,CAAYC,QAAZ,CAAqB,MAArB,CAAhB,IAAiD;AAChD,QAAC,MAAD;AACE,IAAA,IAAI,EAAC,IADP;AAEE,IAAA,OAAO,EAAC,MAFV;AAGE,IAAA,SAAS,EAAC,gBAHZ;AAIE,IAAA,OAAO,EAAE,MAAMxC,aAAa,CAACqC,EAAE,CAACI,YAAJ,CAJ9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAME;AAAG,IAAA,SAAS,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,CAHJ,EAYIJ,EAAE,CAACE,QAAH,KAAgBF,EAAE,CAACE,QAAH,CAAYC,QAAZ,CAAqB,OAArB,KAAiCH,EAAE,CAACE,QAAH,CAAYC,QAAZ,CAAqB,MAArB,CAAjD,CAAD,IAAoF;AACnF,QAAC,MAAD;AACE,IAAA,IAAI,EAAC,IADP;AAEE,IAAA,OAAO,EAAC,MAFV;AAGE,IAAA,SAAS,EAAC,gBAHZ;AAIE,IAAA,OAAO,EAAE,MAAM;AACbxC,MAAAA,aAAa,CAAC,IAAD,EAAOqC,EAAE,CAACnC,MAAV,CAAb;AACD,KANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQE;AAAG,IAAA,SAAS,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,CAbJ,EAwBE,MAAC,SAAD;AACE,IAAA,IAAI,EAAEmC,EAAE,CAACI,YADX;AAEE,IAAA,MAAM,EAAEJ,EAAE,CAACnC,MAFb;AAGE,IAAA,QAAQ,EAAEmC,EAAE,CAACE,QAHf;AAIE,IAAA,IAAI,EAAE7C,YAAY,KAAK2C,EAAE,CAACI,YAApB,IAAoC/C,YAAY,KAAK2C,EAAE,CAACnC,MAJhE;AAKE,IAAA,OAAO,EAAEC,cALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAxBF,CADF,CADD,CADH,CADF,CA1BF,CAnEJ,EAwIIjB,QAAQ,IAAII,YAAZ,IAA4BA,YAAY,CAACqB,MAAb,KAAwB,CAArD,IACC,MAAC,GAAD;AAAK,IAAA,SAAS,EAAC,0DAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCAAoCzB,QAApC,QADF,CAzIJ,CApCF,EAqLE,MAAC,IAAD,CAAM,MAAN;AAAa,IAAA,SAAS,EAAC,aAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,SAAS,EAAC,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA+BL,YAAY,KAAK,KAAjB,GAAyB,wBAAzB,GAAoD,sBAAnF,iBADF,CArLF,CADF,CATF,EAqME,MAAE,MAAF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IArMF,CADF;AAyMD","sourcesContent":["import { useEffect, useState } from 'react'\nimport styles from '../styles/Home.module.css'\nimport { useLanguage, useLanguageUpdate } from '../context/siteLanguageContext' //context\nimport {\n  Row,\n  Col,\n  Card,\n  Form,\n  Button,\n  ButtonGroup\n} from 'react-bootstrap'\nimport { Header } from '../components/layout/Header'\nimport { Navigation } from '../components/layout/Navbar'\nimport { Loading } from '../components/layout/Loading'\nimport { Footer } from '../components/layout/Footer'\nimport { PdfViewer } from '../components/fileViewers/pdf/PdfViewer'\nimport { AdvancedSearch } from '../components/archive/AdvancedSearch'\nimport { CustomAutoSuggest } from '../components/archive/ui/CustomAutoSuggest'\n\nexport default function archivio(props) {\n  const siteLanguage = useLanguage() //context\n  const [searchInput, setSearchInput] = useState(\"\")\n  const [isAdvanced, setIsAdvanced] = useState(false)\n  const [searched, setSearched] = useState(false)\n  const [advancedSearched, setAdvancedSearched] = useState(false)\n  const [searchResult, setSearchResult] = useState([])\n  const [loading, setLoading] = useState(false)\n  const [showPdfModal, setShowPdfModal] = useState(null)\n  const [shownTab, setShownTab] = useState(\"giurisprudenza\")\n\n  const handleChangeShownTab = (targetTab) => {\n    setShownTab(targetTab)\n  }\n\n  const openPdfViewer = (path, buffer) => {\n    path ? setShowPdfModal(path) : setShowPdfModal(buffer)\n  }\n\n  const closePdfViewer = () => {\n    setShowPdfModal(null)\n  }\n\n  const handleSetSearchResult = (searchResBefore) => {\n    setSearchResult(searchResBefore)\n  }\n\n  const openAdvancedSearch = () => {\n    setIsAdvanced(true)\n  }\n\n  const closeAdvancedSearch = () => {\n    setIsAdvanced(false)\n  }\n\n  const handleSetSearched = (searchedString, advancedFilters) => {\n    if (!advancedFilters) {\n      setSearched(searchedString)\n    } else {\n      setAdvancedSearched(advancedFilters)\n      if (searchedString && searchedString.length > 0) setSearched(searchedString)\n    }\n  }\n\n  const submitSearch = async (input) => {\n    //const apiUrl = \"http://\" + context.req.headers.host + \"/api/consultation\" url a seconda dell'ambiente\n    try {\n      setLoading(true)\n      const resJson = await fetch(`http://localhost:3000/api/archive/search?searchterms=${input}`, {\n        method: 'GET',\n        headers: {\n          key: 'Access-Control-Allow-Origin',\n          value: '*'\n        }\n      })\n        .then(response => response.json())\n        .then(async response => {\n          handleSetSearchResult(response.data.filteredDocs)\n          handleSetSearched(searchInput)\n          setLoading(false)\n        })\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    const cleanInput = searchInput.replace(/[^\\w\\s]/gi, '')\n    submitSearch(cleanInput)\n  }\n\n  useEffect(() => {\n    //console.log(\"useEffect console.log:\")\n  })\n\n\n  return (\n    <div className={styles.container}>\n      <Header\n        title={siteLanguage === \"ita\" ? \"Archivio\" : \"Archive\"}\n      />\n      {/* Navbar */}\n      <Navigation />\n\n      {loading && <Loading />}\n      {/* Page Content */}\n      <main className={styles.main}>\n        <Card className=\"p-2 fixed-width-card\">\n          <Card.Img variant=\"top\" src=\"archiveImg.png\" />\n          <ButtonGroup className=\"mt-5 mb-3 w-100\">\n            <Button\n              block\n              className=\"mt-0\"\n              variant={(shownTab === \"giurisprudenza\") ? \"info\" : \"outline-info\"}\n              onClick={() => setShownTab(\"giurisprudenza\")}\n            >\n              <h4>Giurisprudenza</h4>\n            </Button>\n            <Button\n              block\n              className=\"mt-0\"\n              variant={(shownTab === \"normativa\") ? \"info\" : \"outline-info\"}\n              onClick={() => setShownTab(\"normativa\")}\n            >\n              <h4>Normativa</h4>\n            </Button>\n            <Button\n              block\n              className=\"mt-0\"\n              variant={(shownTab === \"noteedottrina\") ? \"info\" : \"outline-info\"}\n              onClick={() => setShownTab(\"noteedottrina\")}\n            >\n              <h4>Note e Dottrina</h4>\n            </Button>\n            <Button\n              block\n              className=\"mt-0\"\n              variant={(shownTab === \"formulari\") ? \"info\" : \"outline-info\"}\n              onClick={() => setShownTab(\"formulari\")}\n            >\n              <h4>Formulari</h4>\n            </Button>\n          </ButtonGroup>\n          <Card.Body>\n            <Card.Title className=\"text-center\">{siteLanguage === \"ita\" ? \"Archivio\" : \"Archive\"}</Card.Title>\n            <Row className=\"p-3 justify-content-center ml-0\">\n              <Form\n                onSubmit={(event) => handleSubmit(event)}\n                inline\n                className=\"w-100 p-0\"\n              >\n                <Form.Group className=\"w-100 justify-content-center\">\n                  <Col md={9} className=\"text-right pl-0 pr-0\">\n                    <Row className=\"w-100\">\n                      <Col md={11} className=\"pl-0 pr-0\">\n                        <Form.Control\n                          size=\"lg\"\n                          type=\"text\"\n                          placeholder={siteLanguage === \"ita\" ? \"Cerca nell'Archivio Legislativo\" : \"Search in our Legislation Archive\"}\n                          value={searchInput}\n                          onChange={event => setSearchInput(event.target.value)}\n                          className=\"inline-form-custom w-100\"\n                        />\n                      </Col>\n                      <Col md={1} className=\"pl-0 pr-0\">\n                        <Button\n                          block\n                          variant={\"info\"}\n                          disabled={searchInput.length < 10}\n                          type=\"submit\"\n                          size=\"lg\"\n                          className=\"\">\n                          <i className=\"fas fa-search\"></i>\n                        </Button>\n                      </Col>\n                    </Row>\n                  </Col>\n                  <Col md={3} className=\"pl-0 pr-0\">\n                    <Button\n                      variant={\"info\"}\n                      className=\"ml-1 w-100\"\n                      size=\"lg\"\n                      onClick={isAdvanced ? () => closeAdvancedSearch() : () => openAdvancedSearch()}\n                    >\n                      <Row className=\"m-0 w-100\">\n                        <Col md={10} className=\"pr-0 pl-0\">\n                          <span className=\"kinda-small-text\">Ricerca Avanzata</span>\n                        </Col>\n                        <Col md={2} className=\"pr-0 pl-1 chevron-container\">\n                          {isAdvanced ? <i className=\"fas fa-chevron-up\"></i> : <i className=\"fas fa-chevron-down\"></i>}\n                        </Col>\n                      </Row>\n                    </Button>\n                  </Col>\n                </Form.Group>\n              </Form>\n            </Row>\n            <Row className=\"p-3 justify-content-center\">\n              {isAdvanced &&\n                <AdvancedSearch\n                  shownTab={shownTab}\n                  loading={loading}\n                  setLoading={setLoading}\n                  searchInput={searchInput}\n                  handleSetSearched={handleSetSearched}\n                  handleSetSearchResult={handleSetSearchResult}\n                />\n              }\n            </Row>\n            {((searched && searchResult && searchResult.length > 0) || (advancedSearched)) && (\n              <Row className=\"mt-4 p-3 justify-content-center archive-result-container\">\n                {(searched && searchResult && searchResult.length > 0 && !advancedSearched) &&\n                  <>\n                    <Col md={12}>\n                      <h4 className=\"text-center\">Nell'Archivio\n                  {searchResult.length === 1 ? \" è presente \" : \" sono presenti \"}\n                        {searchResult.length}\n                        {searchResult.length === 1 ? \" Documento \" : \" Documenti \"}\n                        {(searched && searchResult && searchResult.length > 0) && searchResult.length === 1 ? \" contenente\" : \" contenenti\"}: </h4>\n                    </Col>\n                    <Col md={12}>\n                      <p className=\"text-center\">\"{searched}\" </p>\n                    </Col>\n                  </>\n                }\n                {(advancedSearched && searchResult && searchResult.length > 0 && !searched) &&\n                  <Col md={12}>\n                    <h4 className=\"text-center\">Nell'Archivio\n                  {searchResult.length === 1 ? \" è presente \" : \" sono presenti \"}\n                      {searchResult.length}\n                      {searchResult.length === 1 ? \" Documento \" : \" Documenti \"}\n                      {searchResult.length === 1 ? \" che soddisfa \" : \" che soddisfano \"}\n                      i filtri di ricerca.\n                      </h4>\n                  </Col>\n                }\n                <Col md={12}>\n                  <ul>\n                    {searchResult.map((el, i) => (\n                      <li key={i}>\n                        <>\n                          {el.filename}\n                          {(el.filename && el.filename.includes(\".pdf\")) && //pdf files viewer btn\n                            <Button\n                              size=\"sm\"\n                              variant=\"info\"\n                              className=\"ml-1 py-0 px-1\"\n                              onClick={() => openPdfViewer(el.relativepath)}\n                            >\n                              <i className=\"fas fa-eye\"></i>\n                            </Button>\n                          }\n                          {(el.filename && (el.filename.includes(\".docx\") || el.filename.includes(\".doc\"))) && //docx files viewer btn\n                            <Button\n                              size=\"sm\"\n                              variant=\"info\"\n                              className=\"ml-1 py-0 px-1\"\n                              onClick={() => {\n                                openPdfViewer(null, el.buffer)\n                              }}\n                            >\n                              <i className=\"fas fa-eye\"></i>\n                            </Button>\n                          }\n                          <PdfViewer\n                            path={el.relativepath}\n                            buffer={el.buffer}\n                            filename={el.filename}\n                            show={showPdfModal === el.relativepath || showPdfModal === el.buffer}\n                            onClose={closePdfViewer}\n                          />\n                        </>\n                      </li>\n                    ))}\n                  </ul>\n                </Col>\n              </Row>\n            )}\n\n            {(searched && searchResult && searchResult.length === 0) && (\n              <Row className=\"mt-4 p-3 justify-content-center archive-result-container\">\n                <h4>Nessun documento contenente: \" {searched} \"</h4>\n              </Row>\n            )}\n\n          </Card.Body>\n\n\n          <Card.Footer className=\"text-center\">\n            <small className=\"text-muted\">{siteLanguage === \"ita\" ? \"Archivio aggiornato al\" : \"Archive last updated\"}: 26/01/2020</small>\n          </Card.Footer>\n        </Card>\n      </main >\n      {/* Footer */}\n      < Footer />\n    </div >\n  )\n}"]},"metadata":{},"sourceType":"module"}