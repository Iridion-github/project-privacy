{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from 'react';\nimport { useLanguage } from '../../context/siteLanguageContext'; //context\n\nimport { Row, Col, Button, Form } from 'react-bootstrap';\nimport { ArticlesRow } from \"./ArticlesRow\";\nimport { MyPagination } from \"../layout/MyPagination\";\nexport var ArticlesList = function ArticlesList(props) {\n  var siteLanguage = useLanguage(); //context\n\n  var _useState = useState(1),\n      currentPage = _useState[0],\n      setCurrentPage = _useState[1];\n\n  var _useState2 = useState(6),\n      elementsPerPage = _useState2[0],\n      setElementsPerPage = _useState2[1];\n\n  var _useState3 = useState(2),\n      elementsPerRow = _useState3[0],\n      setElementsPerRow = _useState3[1];\n\n  var articlesRows = !props.filtered ? props.allArticles.reduce(function (articles, acc, i) {\n    if (i % elementsPerRow) {\n      articles[articles.length - 1].push(acc);\n    } else {\n      articles.push([acc]);\n    }\n\n    return articles;\n  }, []) : props.searchFilter(props.allArticles, props.searchInput, siteLanguage).reduce(function (articles, acc, i) {\n    if (i % elementsPerRow) {\n      articles[articles.length - 1].push(acc);\n    } else {\n      articles.push([acc]);\n    }\n\n    return articles;\n  }, []);\n  var visibleRows = articlesRows.filter(function (elem, index) {\n    return index >= currentPage * elementsPerPage / elementsPerRow - elementsPerPage / elementsPerRow && index < currentPage * elementsPerPage / elementsPerRow;\n  });\n\n  var searchInputOnChange = function searchInputOnChange(value) {\n    if (value.length < 3) {\n      props.setSearchInput(value);\n      props.setFiltered(false);\n    } else {\n      props.setSearchInput(value);\n    }\n  };\n\n  return __jsx(Row, {\n    className: \"\"\n  }, __jsx(Row, {\n    className: \"w-100 m-auto\"\n  }, __jsx(Col, {\n    md: 6\n  }, __jsx(\"h1\", null, siteLanguage === \"ita\" ? \"Ultimi Articoli\" : \"Latest Articles\")), __jsx(Col, {\n    sm: 6,\n    className: \"justify-content-end mb-1 flex-row\"\n  }, __jsx(Form, {\n    inline: true,\n    className: \"justify-content-end w-100 p-0 flex-row\"\n  }, __jsx(Form.Group, {\n    className: \"w-100\",\n    controlId: \"formBasicEmail\"\n  }, __jsx(Form.Control, {\n    type: \"text\",\n    placeholder: siteLanguage === \"ita\" ? \"Cerca\" : \"Search\",\n    onChange: function onChange(event) {\n      return searchInputOnChange(event.target.value);\n    },\n    className: \"w-75 inline-form-custom\"\n  }), __jsx(Button, {\n    variant: !props.filtered ? \"info\" : \"danger\",\n    disabled: props.searchInput.length < 3,\n    onClick: !props.filtered ? function () {\n      return props.setFiltered(true);\n    } : function () {\n      return props.setFiltered(false);\n    },\n    className: \"ml-1\"\n  }, !props.filtered ? __jsx(\"i\", {\n    className: \"fas fa-search\"\n  }) : __jsx(\"i\", {\n    className: \"fas fa-times-circle\"\n  })))))), visibleRows.length > 0 && __jsx(MyPagination, {\n    totalPages: !props.filtered ? Math.ceil(props.allArticles.length / elementsPerPage) : Math.ceil(props.searchFilter(props.allArticles, props.searchInput, siteLanguage).length / elementsPerPage),\n    currentPage: currentPage,\n    setCurrentPage: setCurrentPage,\n    elementsPerPage: elementsPerPage,\n    totalElements: !props.filtered ? props.allArticles.length : props.searchFilter(props.allArticles, props.searchInput, siteLanguage).length\n  }), __jsx(Row, {\n    className: \"w-100 mobile-compatible m-auto\"\n  }, __jsx(Col, {\n    md: 12,\n    className: visibleRows.length > 0 ? \"resulting-article-container\" : \"d-flex resulting-article-container align-items-center justify-content-center\"\n  }, visibleRows.length > 0 ? visibleRows.map(function (row, i) {\n    return __jsx(ArticlesRow, {\n      setOpenedArticle: props.setOpenedArticle,\n      key: i,\n      articles: row\n    });\n  }) : __jsx(Row, {\n    className: \"w-100 text-center justify-content-center\"\n  }, siteLanguage === \"ita\" ? \"Nessun risultato trovato\" : \"No result found\"))), visibleRows.length > 0 && __jsx(MyPagination, {\n    totalPages: !props.filtered ? Math.ceil(props.allArticles.length / elementsPerPage) : Math.ceil(props.searchFilter(props.allArticles, props.searchInput, siteLanguage).length / elementsPerPage),\n    currentPage: currentPage,\n    setCurrentPage: setCurrentPage,\n    elementsPerPage: elementsPerPage,\n    totalElements: !props.filtered ? props.allArticles.length : props.searchFilter(props.allArticles, props.searchInput, siteLanguage).length\n  }));\n};","map":null,"metadata":{},"sourceType":"module"}