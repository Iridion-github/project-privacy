{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[14],{Eo9T:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/articoli/[articleId]\",function(){return t(\"h6HP\")}])},h6HP:function(e,a,t){\"use strict\";t.r(a);var r=t(\"o0o1\"),n=t.n(r),s=t(\"HaE+\"),l=t(\"q1tI\"),i=t.n(l),c=t(\"vRNQ\"),o=t.n(c),u=t(\"JCBN\"),m=t(\"nOHt\"),p=t(\"3Z9Z\"),d=t(\"JI6e\"),f=t(\"FCqg\"),g=t(\"nABS\"),b=t(\"miik\"),h=t(\"cFkv\"),N=t(\"76ZC\"),w=t.n(N),v=t(\"6xyR\"),y=t(\"cWnB\"),O=t(\"ZvOU\"),k=t(\"pJDg\"),A=t(\"2mvg\"),j=t(\"2NPC\"),E=i.a.createElement,_=function(e){return E(i.a.Fragment,null,E(A.a,{className:\"article-img-md-left mr-2 black-border\",src:e.previewImg}),function(a,t){var r=e.glossarywords.filter((function(a){return e.glossary.includes(a.name)}));return t.map((function(e,t){return E(\"div\",{key:t},E(\"p\",{className:\"article-paragraph\"},Object(j.a)(e,r)),E(A.a,{className:\"article-img-\"+a[t].size+\"-\"+a[t].position+a[t].margin+\" black-border\",src:a[t].src}))}))}(e.images,e.paragraphs))},I=t(\"b4WN\"),x=i.a.createElement,B=function(e){var a=Object(u.b)(),t=Object(l.useState)(\"ita\"),r=t[0],n=t[1];return x(p.a,{className:\"w-100 m-auto\"},x(v.a,{className:\"w-100 mb-4 p-1 grey-border\"},x(y.a,{className:\"\",variant:\"info\",href:\"/articoli\"},x(\"i\",{className:\"fas fa-long-arrow-alt-left mr-2\"}),\" \",\"ita\"===a?\"Torna agli Articoli\":\"Back to Articles\"),x(v.a.Header,{className:\"pb-0\"},x(p.a,null,x(d.a,{md:{span:12,offset:0}},x(p.a,null,x(\"h3\",{className:\"\"},x(\"strong\",null,e.article[r].title))))),x(p.a,null,x(d.a,{md:12},x(p.a,null,x(d.a,{md:12},x(\"h6\",{className:\"\"},\"\\xab\",e.article[r].subtitle,\"\\xbb\"))))),x(p.a,{className:\"w-100 ml-0\"},x(d.a,{md:9,className:\"pr-0 pl-0\"},x(p.a,{className:\"w-100 mr-0 ml-0\"},x(d.a,{md:6,className:\"fake-navbar-item pr-0\"},x(\"strong\",null,\"ita\"===r?e.article.authors.length<2?\"Autore: \":\"Autori: \":e.article.authors.length<2?\"Author: \":\"Authors: \"),e.article.authors.map((function(e,a){return a>0?w()('<span className=\"pb-1\"> | </span> '.concat(e)):e}))),x(d.a,{md:6,className:\"fake-navbar-item pr-0\"},x(\"strong\",null,\"ita\"===a?\"Data: \":\"Date: \"),\" \",Object(I.a)(e.article.date,r,!0)))),x(d.a,{md:{span:1,offset:2},className:\"m-0 p-0\"},x(O.a,{className:\"height-100 w-100\"},x(k.a,{className:\"w-100\"},x(y.a,{className:\"btn btn-light grey-border\",active:\"ita\"===r,href:\"#ita\",onClick:function(){return n(\"ita\")}},x(A.a,{src:\"/bandiere/ita.png\",className:\"black-border flag-icon\"})),x(y.a,{className:\"btn btn-light grey-border\",active:\"eng\"===r,href:\"#eng\",onClick:function(){return n(\"eng\")}},x(A.a,{src:\"/bandiere/GB.png\",className:\"black-border flag-icon\"}))))))),x(v.a.Body,null,x(p.a,null,x(d.a,{md:12,className:\"\"},x(_,{glossarywords:e.glossarywords,glossary:e.article.glossary,paragraphs:e.article[r].content,previewImg:e.article.previewImg,images:e.article.images}))))))},C=i.a.createElement,P=function(e){var a,t=Object(u.b)();return C(v.a,{className:\"w-100 mb-4 cursor-pointer grey-border\",onClick:function(){return e.setOpenedArticle(e.article.id)}},C(v.a.Header,{className:\"pt-1 pb-1 overflow-hidden\"},C(p.a,null,C(d.a,{sm:4,className:\"p-0\"},C(A.a,{className:\"related-article-preview-img black-border\",variant:\"top\",src:e.article.previewImg})),C(d.a,{sm:8},C(v.a.Title,{className:\"mb-0 related-article-preview-title\"},\"ita\"===t?e.article.ita.title:e.article.eng.title),e.article[a=t].title.length<90?C(\"p\",{className:\"mt-1 mb-0 related-article-preview-subtitle\"},\"ita\"===a?e.article.ita.subtitle:e.article.eng.subtitle):\"\"))))},H=i.a.createElement,q=function(e){var a=Object(u.b)();return H(i.a.Fragment,null,H(p.a,{className:\"justify-content-center\"},H(\"h1\",null,\"ita\"===a?\"Articoli Correlati\":\"Related Articles\")),H(p.a,null,H(d.a,null,e.relatedArticles.map((function(a,t){return H(P,{key:t,setOpenedArticle:e.setOpenedArticle,article:a})})))))},D=function(e,a){var t=[],r=Object(m.useRouter)().asPath.slice(1),n=r.split(\"/\").reverse().pop();return t.push({title:\"Home\",path:\"/\"}),t.push({title:n,path:\"/\"+n}),e&&t.push({title:a,path:r}),t},F=t(\"X0II\"),T=t(\"LrFz\"),J=i.a.createElement;function R(e){var a=e.glossarywords,t=e.DBarticles,r=Object(u.b)(),n=Object(m.useRouter)(),s=n.query.articleId,c=Object(l.useState)(t),N=c[0],w=(c[1],Object(l.useState)(s)),v=w[0],y=w[1],O=function(e){var a=null!==e?\"/articoli/\"+e:\"/articoli/\";n.push(a),y(e)},k=function(e,a,t){for(var r=[],n=0;n<a.length&&r.length<5;n++)a[n][t].tags.some((function(r){return a.find((function(a){return a.id===e}))[t].tags.includes(r)}))&&e!==a[n].id&&r.push(a[n]);return r}(s,N,r);return Object(l.useEffect)((function(){0===N.length&&t.map((function(e){return e.id})).includes(s)&&y(s)})),J(\"div\",{className:o.a.container},J(f.a,{title:\"ita\"===r?\"Articoli\":\"Articles\"}),J(g.a,null),v&&N.length>0&&J(b.a,{breadcrumbsList:D(v,N.find((function(e){return e.id===v}))[r].title)}),!v&&J(b.a,{breadcrumbsList:Object(F.a)({ita:\"Articolo inesistente\",eng:\"No such article\"},\"/articoli\",r)}),J(\"main\",{className:o.a.main},!v&&J(T.a,null),J(p.a,{className:\"w-100\"},J(d.a,{md:3,className:\"\"}),v&&N.length>0&&J(i.a.Fragment,null,J(d.a,{md:6,className:\"justify-content-center\"},J(B,{article:N.find((function(e){return e.id===v})),allArticles:N,setOpenedArticle:O,glossarywords:a})),J(d.a,{md:3,className:\"\"},J(q,{relatedArticles:k,setOpenedArticle:O}))))),J(h.a,null))}R.getInitialProps=function(){var e=Object(s.a)(n.a.mark((function e(a){var t,r,l,i,c,o,u,m,p;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=function(){var e=Object(s.a)(n.a.mark((function e(a){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=a.split(\"/articoli/\")[1]).includes(\"/\")&&(t=t.split(\"/\")[1].split(\"/\")[1]),e.abrupt(\"return\",t);case 3:case\"end\":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),r={DBarticles:[],glossarywords:[]},a.req){e.next=9;break}return e.next=5,t(a.asPath);case 5:l=e.sent,location.href.includes(\"articoli/\")?location.replace(l):location.replace(\"articoli/\"+l),e.next=24;break;case 9:return i=\"http://\"+a.req.headers.host+\"/api/glossaryword\",e.next=12,fetch(i);case 12:return c=e.sent,e.next=15,c.json();case 15:return o=e.sent,u=\"http://\"+a.req.headers.host+\"/api/article\",e.next=19,fetch(u);case 19:return m=e.sent,e.next=22,m.json();case 22:p=e.sent,r={DBarticles:p.data,glossarywords:o.data};case 24:return e.abrupt(\"return\",r);case 25:case\"end\":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();a.default=R}},[[\"Eo9T\",0,2,1,3,5,6]]]);","extractedComments":[]}